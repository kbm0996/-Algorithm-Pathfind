#ifndef __CMAP__
#define __CMAP__

namespace mylib
{
	class CMap
	{
	public:
		enum enTILE 
		{
			en_TILE_WIDTH = 15,
			en_TILE_HEIGHT = 15
		};

		////////////////////////////////////////////////////////////
		// 생성자, 소멸자
		//  지도 크기 설정시 지도도 함께 생성
		//
		// Parameters : (int) 너비
		//				(int) 높이
		// Return :		
		////////////////////////////////////////////////////////////
		CMap(int iWidth = 0, int iHeight = 0);
		CMap(const CMap &cpy);
		virtual ~CMap();


		////////////////////////////////////////////////////////////
		// 지도 표시 (WinAPI 전용)
		//
		// Parameters : (HDC) 
		// Return :
		////////////////////////////////////////////////////////////
		void DrawMap(HDC hdc);


		////////////////////////////////////////////////////////////
		// 타일 종류 검사
		//
		// Parameters : (POINT) 마우스 좌표 
		// Return :		(int) 타일 종류
		////////////////////////////////////////////////////////////
		bool CheckObstacle(POINT mousepos);


		////////////////////////////////////////////////////////////
		// 장애물 설정
		//
		// Parameters : (POINT) 마우스 좌표,  (bool) 장애물 여부
		// Return :		
		////////////////////////////////////////////////////////////
		void SetObstacle(POINT mousepos, bool isObstacle);


		////////////////////////////////////////////////////////////
		// 장애물 제거
		//
		// Parameters : 
		// Return :		
		////////////////////////////////////////////////////////////
		void ResetObstacle();


		////////////////////////////////////////////////////////////
		// 타일 좌표 변경(마우스 좌표 → 지도상 좌표)
		//
		// Parameters : (POINT) 마우스 좌표
		// Return :		
		////////////////////////////////////////////////////////////
		POINT GetTilePos(POINT mousepos);

		int _iWidth;
		int _iHeight;
		char** _pMap;
	};
}

#endif // !__CMAP__
